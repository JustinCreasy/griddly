@*
 * GriddlyButton button strip renderer using Bootstrap html and styles
 * http://griddly.com
 * Copyright 2013-2014 Chris Hynes and Data Research Group, Inc.
 * Licensed under MIT (https://github.com/programcsharp/griddly/blob/master/LICENSE)
 *
 * WARNING: Don't edit this file -- it'll be overwitten when you upgrade.
 *          Use the static properties on GriddlySettings to make config changes.
 *
 *@
 
@model IList<GriddlyButton>

@{
    var leftButtons = Model.Where(x => !x.AlignRight && ViewBag.AlignRight != true);
    var rightButtons = Model.Where(x => x.AlignRight || ViewBag.AlignRight == true);
}

@if (Model.Any())
{
    if (rightButtons.Any())
    {
        <div class="btn-toolbar @ViewBag.ClassName pull-right">
            @if (rightButtons.Count() > 1)
            {
            @:<div class="btn-group">
            }
                @foreach (GriddlyButton button in rightButtons)
                {
                    button.AlignRight = true;

                    if (button.IsSeparator)
                    {
                        @:</div>
                        @:<div class="btn-group">
                    }
                    else
                    {
                        @Html.Partial(GriddlySettings.ButtonTemplate, button);
                    }
                }
            @if (rightButtons.Count() > 1)
            {
            @:</div>
            }
        </div>
    }
    if (leftButtons.Any())
    {
        <div class="btn-toolbar @ViewBag.ClassName">
            @if (leftButtons.Count() > 1)
            {
                @:<div class="btn-group">
            }
            @foreach (GriddlyButton button in leftButtons)
            {
                if (button.IsSeparator)
                {
                    @:</div>
                    @:<div class="btn-group">
                }
                else
                {
                    @Html.Partial(GriddlySettings.ButtonTemplate, button);
                }
            }
            @if (leftButtons.Count() > 1)
            {
            @:</div>
            }
        </div>
    }
}